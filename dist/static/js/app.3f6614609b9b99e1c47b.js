webpackJsonp([1,2],{130:function(e,t,s){"use strict";var n=s(3),a=s.n(n),i=s(180),r=s.n(i),o=s(177),l=s.n(o);a.a.use(r.a),t.a=new r.a({routes:[{path:"/",name:"Hello",component:l.a}]})},132:function(e,t,s){s(174);var n=s(129)(s(154),s(179),null,null);e.exports=n.exports},154:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},155:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(0),a=s.n(n);s(175);var i=null,r=null;t.default={name:"hello",data:function(){return{autoPlay:!1,currentEnoughToPlay:!1,pauseing:!0,playing:!1,sounds:10,mutedable:!1,progress:0,allLength:0,currentTimeLabel:"0:00",terminalTimeLabel:"",currentTime:0,currentIndex:0,videoInstance:null,canvasInstance:null,playList:[]}},mounted:function(){this.progressSetTimeout=null,this.hasPlayTime=0;var e=document.getElementById("myCanvas");this.canvasInstance=e.getContext("2d"),this.terminalTimeLabel=this.durationFormat(this.allLength),this.getData()},watch:{currentEnoughToPlay:function(e,t){e&&e!=t&&this.triggerPlay()},currentTime:function(e,t){var s=this,n=this;if(e!=t){var a=e-t;this.hasPlayTime=this.hasPlayTime+(a>0?a>.02?.02:a:0),this.canvasInstance.drawImage(this.videoInstance,0,0,400,200),n.progressSetTimeout=window.setTimeout(function(){n.currentTimeLabel=n.durationFormat(Math.floor(s.hasPlayTime))},1e3)}},sounds:function(e,t){this.videoInstance.volume=e/100}},methods:{getData:function(){var e=this;this.playList=[{src:"https://media.w3.org/2010/05/sintel/trailer.mp4",duration:52,position:0,enoughToPlay:!1},{src:"http://www.w3school.com.cn/example/html5/mov_bbb.mp4",duration:10,position:53,enoughToPlay:!1},{src:"https://www.w3schools.com/html/movie.mp4",duration:12,position:63,enoughToPlay:!1},{src:"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4",duration:60,position:75,enoughToPlay:!1}],this.allLength=134,this.$nextTick(function(){e.init()})},init:function(){var e=this,t=this;this.videoInstance=document.querySelectorAll("video")[this.currentIndex],this.videoInstance.volume=this.sounds/100,this.mutedable=this.videoInstance.muted;var s=function(){e.playing=!0,e.pauseing=!1,e.drawStart()},n=function(){e.playing=!1,e.pauseing=!0},a=function(){e.currentIndex<e.playList.length-1?(e.currentIndex++,e.$nextTick(function(){e.init(),e.triggerPlay()})):(e.playing=!1,e.pauseing=!0),e.clearIntervaler()},i=function(){e.currentEnoughToPlay=!0,e.playList[e.currentIndex].enoughToPlay=!0};t.videoInstance&&(t.videoInstance.removeEventListener("play",s),t.videoInstance.removeEventListener("pause",n),t.videoInstance.removeEventListener("ended",a),t.videoInstance.removeEventListener("canplay",i),t.videoInstance.addEventListener("play",s,!1),t.videoInstance.addEventListener("pause",n,!1),this.videoInstance.addEventListener("ended",a,!1),this.videoInstance.addEventListener("canplay",i,!1),this.videoPreLoad(),this.captureFisrt())},captureFisrt:function(){var e=this;e.videoInstance.addEventListener("loadeddata",function t(){e.videoInstance.readyState>=2&&(e.canvasInstance.drawImage(e.videoInstance,0,0,400,200),e.videoInstance.removeEventListener("loadeddata",t))})},drawStart:function(){var e=this,t=this;this.clearIntervaler(),!i&&this.playing&&(i=window.setInterval(function(){e.currentTime=t.videoInstance.currentTime},20)),!r&&this.playing&&(r=window.setInterval(function(){t.progress=Math.floor(t.hasPlayTime)},1e3))},durationFormat:function(e){return e>3600?a.a.duration(e,"seconds").format("h:m:ss",{trim:!1}):a.a.duration(e,"seconds").format("m:ss",{trim:!1})},progressDrag:function(e){var t=this;e!=Math.floor(this.hasPlayTime)&&(this.clearIntervaler(),this.pauseing=!0,this.playing=!1,this.videoInstance.pause(),this.playList.map(function(s,n){s.position<=e&e<s.position+s.duration&&(t.hasPlayTime=e,t.currentIndex!=n&&(t.currentIndex=n,t.init()),t.videoInstance.currentTime=e-s.position,t.triggerPlay())}),this.currentTimeLabel=this.durationFormat(this.hasPlayTime))},clickTrigger:function(){this.autoPlay=!0,this.triggerPlay()},triggerPlay:function(){this.clearIntervaler(),this.autoPlay&&(!this.playing&&this.pauseing?this.videoInstance.play():this.videoInstance.pause())},triggerSound:function(){this.mutedable=!this.mutedable,this.videoInstance.muted=this.mutedable},videoPreLoad:function(){var e=this,t=this.currentIndex+1;if(t<this.playList.length){var s=document.querySelectorAll("video")[t];s&&!this.playList[t].enoughToPlay&&s.load(),s&&s.addEventListener("canplay",function(){e.playList[t].enoughToPlay=!0},!1)}},clearIntervaler:function(){clearInterval(i),clearInterval(r),i=null,r=null}}}},173:function(e,t){},174:function(e,t){},176:function(e,t,s){function n(e){return s(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./af":19,"./af.js":19,"./ar":25,"./ar-dz":20,"./ar-dz.js":20,"./ar-ly":21,"./ar-ly.js":21,"./ar-ma":22,"./ar-ma.js":22,"./ar-sa":23,"./ar-sa.js":23,"./ar-tn":24,"./ar-tn.js":24,"./ar.js":25,"./az":26,"./az.js":26,"./be":27,"./be.js":27,"./bg":28,"./bg.js":28,"./bn":29,"./bn.js":29,"./bo":30,"./bo.js":30,"./br":31,"./br.js":31,"./bs":32,"./bs.js":32,"./ca":33,"./ca.js":33,"./cs":34,"./cs.js":34,"./cv":35,"./cv.js":35,"./cy":36,"./cy.js":36,"./da":37,"./da.js":37,"./de":39,"./de-at":38,"./de-at.js":38,"./de.js":39,"./dv":40,"./dv.js":40,"./el":41,"./el.js":41,"./en-au":42,"./en-au.js":42,"./en-ca":43,"./en-ca.js":43,"./en-gb":44,"./en-gb.js":44,"./en-ie":45,"./en-ie.js":45,"./en-nz":46,"./en-nz.js":46,"./eo":47,"./eo.js":47,"./es":49,"./es-do":48,"./es-do.js":48,"./es.js":49,"./et":50,"./et.js":50,"./eu":51,"./eu.js":51,"./fa":52,"./fa.js":52,"./fi":53,"./fi.js":53,"./fo":54,"./fo.js":54,"./fr":57,"./fr-ca":55,"./fr-ca.js":55,"./fr-ch":56,"./fr-ch.js":56,"./fr.js":57,"./fy":58,"./fy.js":58,"./gd":59,"./gd.js":59,"./gl":60,"./gl.js":60,"./he":61,"./he.js":61,"./hi":62,"./hi.js":62,"./hr":63,"./hr.js":63,"./hu":64,"./hu.js":64,"./hy-am":65,"./hy-am.js":65,"./id":66,"./id.js":66,"./is":67,"./is.js":67,"./it":68,"./it.js":68,"./ja":69,"./ja.js":69,"./jv":70,"./jv.js":70,"./ka":71,"./ka.js":71,"./kk":72,"./kk.js":72,"./km":73,"./km.js":73,"./ko":74,"./ko.js":74,"./ky":75,"./ky.js":75,"./lb":76,"./lb.js":76,"./lo":77,"./lo.js":77,"./lt":78,"./lt.js":78,"./lv":79,"./lv.js":79,"./me":80,"./me.js":80,"./mi":81,"./mi.js":81,"./mk":82,"./mk.js":82,"./ml":83,"./ml.js":83,"./mr":84,"./mr.js":84,"./ms":86,"./ms-my":85,"./ms-my.js":85,"./ms.js":86,"./my":87,"./my.js":87,"./nb":88,"./nb.js":88,"./ne":89,"./ne.js":89,"./nl":91,"./nl-be":90,"./nl-be.js":90,"./nl.js":91,"./nn":92,"./nn.js":92,"./pa-in":93,"./pa-in.js":93,"./pl":94,"./pl.js":94,"./pt":96,"./pt-br":95,"./pt-br.js":95,"./pt.js":96,"./ro":97,"./ro.js":97,"./ru":98,"./ru.js":98,"./se":99,"./se.js":99,"./si":100,"./si.js":100,"./sk":101,"./sk.js":101,"./sl":102,"./sl.js":102,"./sq":103,"./sq.js":103,"./sr":105,"./sr-cyrl":104,"./sr-cyrl.js":104,"./sr.js":105,"./ss":106,"./ss.js":106,"./sv":107,"./sv.js":107,"./sw":108,"./sw.js":108,"./ta":109,"./ta.js":109,"./te":110,"./te.js":110,"./tet":111,"./tet.js":111,"./th":112,"./th.js":112,"./tl-ph":113,"./tl-ph.js":113,"./tlh":114,"./tlh.js":114,"./tr":115,"./tr.js":115,"./tzl":116,"./tzl.js":116,"./tzm":118,"./tzm-latn":117,"./tzm-latn.js":117,"./tzm.js":118,"./uk":119,"./uk.js":119,"./uz":120,"./uz.js":120,"./vi":121,"./vi.js":121,"./x-pseudo":122,"./x-pseudo.js":122,"./yo":123,"./yo.js":123,"./zh-cn":124,"./zh-cn.js":124,"./zh-hk":125,"./zh-hk.js":125,"./zh-tw":126,"./zh-tw.js":126};n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id=176},177:function(e,t,s){s(173);var n=s(129)(s(155),s(178),"data-v-82992f72",null);e.exports=n.exports},178:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[e._l(e.playList,function(t,n){return[s("video",{directives:[{name:"show",rawName:"v-show",value:n==e.currentIndex,expression:"i == currentIndex"}],staticClass:"video",staticStyle:{position:"absolute",left:"9999px"},attrs:{controls:"",width:"270"}},[s("source",{key:"i",attrs:{src:t.src,type:"video/mp4"}})])]}),e._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.currentEnoughToPlay,expression:"!currentEnoughToPlay"}],staticClass:"video-cont"},[s("canvas",{staticStyle:{border:"1px solid #d3d3d3"},attrs:{controls:"",id:"myCanvas",width:"400",height:"200"}},[e._v("Your browser does not support the HTML5 canvas tag.")]),e._v(" "),s("div",{staticClass:"controls"},[s("el-row",{staticClass:"row",attrs:{gutter:5}},[s("el-col",{attrs:{span:3}},[s("div",{staticClass:"grid-content bg-purple"}),s("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){e.clickTrigger(t)}}},[e._v(e._s(e.pauseing?"开始":"暂停"))])],1),e._v(" "),s("el-col",{staticClass:"time-duration",attrs:{span:7}},[s("div",{staticClass:"grid-content bg-purple"},[e._v(e._s(e.currentTimeLabel)+"/"+e._s(e.terminalTimeLabel))])]),e._v(" "),s("el-col",{attrs:{span:10}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-slider",{directives:[{name:"model",rawName:"v-model",value:e.progress,expression:"progress"}],attrs:{max:e.allLength},domProps:{value:e.progress},on:{change:e.progressDrag,input:function(t){e.progress=t}}})],1)]),e._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[s("span",{staticClass:"sound-contr"},[s("span",{staticClass:"sound-icon",on:{click:e.triggerSound}},[e._v(e._s(e.mutedable?"声音":"静音"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.sounds,expression:"sounds"}],attrs:{type:"range",name:"",orient:"vertical"},domProps:{value:e._s(e.sounds)},on:{input:function(t){e.sounds=t.target.value}}})])])])],1)],1)])],2)},staticRenderFns:[]}},179:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},184:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(3),a=s.n(n),i=s(132),r=s.n(i),o=s(130),l=s(131),c=s.n(l);a.a.use(c.a),new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:r.a}})}},[184]);
//# sourceMappingURL=app.3f6614609b9b99e1c47b.js.map